function triggerOverlay(el) {
  const payload = {
    contributor: el.dataset.contributor,
    emotion: el.dataset.emotion,
    preview: el.dataset.preview,
    timestamp: Date.now()
  };

  fetch("/webhook/overlay", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(payload)
  });

  window.open(payload.preview, "_blank");
}
function triggerTrafficOverlay(vault) {
  if (vault.traffic_threshold <= getCurrentTraffic()) {
    fetch("/webhook/traffic-overlay", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        vault_id: vault.vault_id,
        emotion: vault.emotion,
        preview_url: vault.preview_url,
        sponsor: vault.sponsor,
        affiliate: vault.affiliate,
        timestamp: Date.now()
      })
    });

    window.open(vault.preview_url, "_blank");
    window.open(vault.affiliate, "_blank");
  }
}
function triggerProductOverlay(emotion) {
  const products = document.querySelectorAll(".product-card");

  products.forEach(card => {
    const match = !emotion || card.dataset.emotion === emotion;
    card.style.display = match ? "block" : "none";
  });
}
{
  "vault_id": "vault-youtube",
  "emotion": "ðŸ”¥Urgent",
  "preview_url": "https://www.youtube.com/@charlesbuchanan-d1e",
  "sponsor": "YouTube",
  "affiliate": "https://www.youtube.com/@charlesbuchanan-d1e",
  "amplifiers": ["pika.art", "upscale.media", "make.com"]
}
if (emotion === "ðŸ”¥Urgent") {
  window.open("https://www.youtube.com/@charlesbuchanan-d1e", "_blank");
  logScrollOverlay("scroll-youtube-preview", "ðŸ”¥Urgent", ["pika.art", "upscale.media", "make.com"]);
}
function triggerCryptoSignalOverlay(emotion) {
  if (emotion === "ðŸ’°Profitable") {
    window.open("https://www.youtube.com/@charlesbuchanan-d1e", "_blank");
    logSignalOverlay("crypto-vault-preview", "ðŸ’°Profitable", ["BTC", "ETH", "SOL"]);
  }
}
