function renderOverlay(entry) {
  const emotionColors = {
    joy: '#FFD700',
    sorrow: '#708090',
    desire: '#FF4500',
    pride: '#8A2BE2',
    fear: '#2F4F4F',
    trust: '#32CD32'
  };

  const roleIcons = {
    creator: 'ğŸ¨',
    supporter: 'ğŸ¤',
    analyst: 'ğŸ“Š',
    ritualist: 'ğŸ”¥',
    scout: 'ğŸ•µï¸'
  };

  const color = emotionColors[entry.emotion] || '#999';
  const icon = roleIcons[entry.role] || 'ğŸŒ€';

  return `
    <div class="signal" style="border-left: 6px solid ${color}; padding-left: 10px;">
      <strong>${icon} ${entry.alias}</strong><br>
      Emotion: ${entry.emotion}<br>
      Role: ${entry.role}<br>
      Signal: ${entry.signal}<br>
      Timestamp: ${entry.timestamp}
    </div>
  `;
}
<select id="emotion-filter">
  <option value="">All Emotions</option>
  <option value="joy">Joy</option>
  <option value="sorrow">Sorrow</option>
  <option value="desire">Desire</option>
  <option value="pride">Pride</option>
  <option value="fear">Fear</option>
  <option value="trust">Trust</option>
</select>

<select id="role-filter">
  <option value="">All Roles</option>
  <option value="creator">Creator</option>
  <option value="supporter">Supporter</option>
  <option value="analyst">Analyst</option>
  <option value="ritualist">Ritualist</option>
  <option value="scout">Scout</option>
</select>

<script>
  async function loadSignals() {
    const res = await fetch('/logs/contributors');
    const data = await res.json();

    const emotion = document.getElementById('emotion-filter').value;
    const role = document.getElementById('role-filter').value;

    const filtered = data.filter(entry => {
      return (!emotion || entry.emotion === emotion) &&
             (!role || entry.role === role);
    });

    const container = document.getElementById('signal-container');
    container.innerHTML = '';

    filtered.forEach(entry => {
      container.innerHTML += renderOverlay(entry);
    });
  }

  document.getElementById('emotion-filter').onchange = loadSignals;
  document.getElementById('role-filter').onchange = loadSignals;
  window.onload = loadSignals;
</script>
